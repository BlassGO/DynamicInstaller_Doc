"use strict";(self.webpackChunkdynamic_installer_doc=self.webpackChunkdynamic_installer_doc||[]).push([[2853],{4076:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"general-actions/contexts","title":"\ud83d\udd10 Get/Set Contexts Tools","description":"Tools for managing SELinux contexts.","source":"@site/docs/general-actions/contexts.md","sourceDirName":"general-actions","slug":"/general-actions/contexts","permalink":"/DynamicInstaller_Doc/docs/general-actions/contexts","draft":false,"unlisted":false,"editUrl":"https://github.com/BlassGO/DynamicInstaller_Doc/edit/main/docs/general-actions/contexts.md","tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"sidebar_position":12,"id":"contexts","title":"\ud83d\udd10 Get/Set Contexts Tools","description":"Tools for managing SELinux contexts."},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udd12 Set Permissions Tools","permalink":"/DynamicInstaller_Doc/docs/general-actions/permissions"},"next":{"title":"\u270f\ufe0f Editing Files Tools","permalink":"/DynamicInstaller_Doc/docs/general-actions/editing-files"}}');var r=s(4848),c=s(8453);const i={sidebar_position:12,id:"contexts",title:"\ud83d\udd10 Get/Set Contexts Tools",description:"Tools for managing SELinux contexts."},l="\ud83d\udd10 Get/Set Contexts Tools",d={},o=[{value:"eval_context",id:"eval_context",level:2},{value:"get_context",id:"get_context",level:2},{value:"set_context",id:"set_context",level:2},{value:"savecontext",id:"savecontext",level:2},{value:"copy_context_list",id:"copy_context_list",level:2},{value:"restorecontext",id:"restorecontext",level:2},{value:"ch_con_recursive",id:"ch_con_recursive",level:2},{value:"ch_con",id:"ch_con",level:2}];function x(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"-getset-contexts-tools",children:"\ud83d\udd10 Get/Set Contexts Tools"})}),"\n",(0,r.jsx)(t.p,{children:"Utilities for handling Android SELinux contexts."}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"eval_context",children:"eval_context"}),"\n",(0,r.jsx)(t.p,{children:"Evaluates the most common SELinux context in a directory or gets a file\u2019s context."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Argument"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"PATH"})}),(0,r.jsx)(t.td,{children:"File or directory"})]})})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"eval_context /system          # e.g., u:object_r:system_file:s0\r\neval_context /vendor/overlay  # e.g., u:object_r:vendor_overlay_file:s0\r\neval_context /efs             # e.g., u:object_r:sec_efs_file:s0\r\neval_context /system/build.prop  # e.g., u:object_r:system_file:s0\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"get_context",children:"get_context"}),"\n",(0,r.jsx)(t.p,{children:"Gets the literal SELinux context of a file or folder."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Argument"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"PATH"})}),(0,r.jsx)(t.td,{children:"File or folder"})]})})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"get_context /system/app       # e.g., u:object_r:system_file:s0\r\nget_context /system/build.prop  # e.g., u:object_r:system_file:s0\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"set_context",children:"set_context"}),"\n",(0,r.jsx)(t.p,{children:"Applies contexts from one path to another."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Argument"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"SRC"})}),(0,r.jsx)(t.td,{children:"Source path"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"DEST"})}),(0,r.jsx)(t.td,{children:"Destination path"})]})]})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'set_context "/system" "$MODPATH/system"\r\nset_context "/vendor" "$MODPATH/system/vendor"\r\nset_context "/vendor/etc" "$MODPATH/system/vendor/etc"\r\nset_context "/system/build.prop" "/data/test/test.prop"\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"savecontext",children:"savecontext"}),"\n",(0,r.jsx)(t.p,{children:"Saves contexts of files/folders recursively."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Argument"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"PATH"})}),(0,r.jsx)(t.td,{children:"File/folder(s)"})]})})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"savecontext /system/build.prop\r\nsavecontext /system/app /system/bin /vendor\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"copy_context_list",children:"copy_context_list"}),"\n",(0,r.jsx)(t.p,{children:"Exports the saved contexts list to a file."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Argument"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"DEST"})}),(0,r.jsx)(t.td,{children:"Destination file"})]})})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"copy_context_list /sdcard/contexts.txt\n"})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"restorecontext",children:"restorecontext"}),"\n",(0,r.jsx)(t.p,{children:"Restores saved contexts to files/folders recursively."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Argument"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"PATH"})}),(0,r.jsx)(t.td,{children:"File/folder(s)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"-f FILE"})}),(0,r.jsx)(t.td,{children:"Use a saved list"})]})]})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'restorecontext /system/build.prop\r\nrestorecontext /system/app /system/bin /vendor\r\nrestorecontext -f "$TMP/contexts.txt" /system/app /system/bin /vendor\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"ch_con_recursive",children:"ch_con_recursive"}),"\n",(0,r.jsx)(t.p,{children:"Manually sets contexts recursively for files and folders."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Argument"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"FILE_CTX"})}),(0,r.jsx)(t.td,{children:"Context for files (complete or partial)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"DIR_CTX"})}),(0,r.jsx)(t.td,{children:"Context for folders (complete or partial)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"PATH"})}),(0,r.jsx)(t.td,{children:"Directory(s)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"-f"})}),(0,r.jsx)(t.td,{children:"Apply to files only"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"-d"})}),(0,r.jsx)(t.td,{children:"Apply to directories only"})]})]})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'# Complete contexts\r\nch_con_recursive "u:object_r:system_file:s0" "u:object_r:system_file:s0" /data/test\r\n\r\n# Partial contexts\r\nch_con_recursive "system_file" "system_file" /data/test\r\n\r\n# Files only\r\nch_con_recursive -f "system_file" /data/test\r\n\r\n# Directories only\r\nch_con_recursive -d "system_file" /data/test\r\n\r\n# Multiple directories\r\nch_con_recursive "system_file" "vendor_file" /data/test /data/test2 /data/test3\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"ch_con",children:"ch_con"}),"\n",(0,r.jsx)(t.p,{children:"Manually sets contexts for individual files/folders."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Argument"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"CTX"})}),(0,r.jsx)(t.td,{children:"Context (complete or partial)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"PATH"})}),(0,r.jsx)(t.td,{children:"File/folder(s)"})]})]})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'# Complete context\r\nch_con "u:object_r:system_file:s0" /data/test/huh.txt\r\n\r\n# Partial context\r\nch_con "system_file" /data/test\r\n\r\n# Multiple paths\r\nch_con "system_file" /data/test /data/a.prop /data/test/huh.txt\n'})})]})}function h(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>l});var n=s(6540);const r={},c=n.createContext(r);function i(e){const t=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(c.Provider,{value:t},e.children)}}}]);