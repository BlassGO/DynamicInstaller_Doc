"use strict";(self.webpackChunkdynamic_installer_doc=self.webpackChunkdynamic_installer_doc||[]).push([[1533],{4756:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>d,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"general-actions/edify","title":"\ud83d\udcdc Extra Edify References","description":"Simulated Edify actions for compatibility.","source":"@site/docs/general-actions/edify.md","sourceDirName":"general-actions","slug":"/general-actions/edify","permalink":"/DynamicInstaller_Doc/docs/general-actions/edify","draft":false,"unlisted":false,"editUrl":"https://github.com/BlassGO/DynamicInstaller_Doc/edit/main/docs/general-actions/edify.md","tags":[],"version":"current","sidebarPosition":21,"frontMatter":{"sidebar_position":21,"id":"edify","title":"\ud83d\udcdc Extra Edify References","description":"Simulated Edify actions for compatibility."},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udcbf Dynamic Partitions (SUPER)","permalink":"/DynamicInstaller_Doc/docs/general-actions/dynamic-partitions"},"next":{"title":"Install Functions","permalink":"/DynamicInstaller_Doc/docs/category/install-functions"}}');var i=r(4848),t=r(8453);const d={sidebar_position:21,id:"edify",title:"\ud83d\udcdc Extra Edify References",description:"Simulated Edify actions for compatibility."},l="\ud83d\udcdc Extra Edify References",c={},h=[{value:"file_getprop",id:"file_getprop",level:2},{value:"write_raw_image",id:"write_raw_image",level:2},{value:"ifelse",id:"ifelse",level:2},{value:"greater_than_int",id:"greater_than_int",level:2},{value:"less_than_int",id:"less_than_int",level:2},{value:"concat",id:"concat",level:2},{value:"stdout",id:"stdout",level:2},{value:"stderr",id:"stderr",level:2},{value:"stdprint",id:"stdprint",level:2},{value:"read_file",id:"read_file",level:2},{value:"run_program",id:"run_program",level:2},{value:"symlink",id:"symlink",level:2},{value:"convert_edify",id:"convert_edify",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"-extra-edify-references",children:"\ud83d\udcdc Extra Edify References"})}),"\n",(0,i.jsx)(n.p,{children:"Simulated Edify actions for users familiar with traditional scripts."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"file_getprop",children:"file_getprop"}),"\n",(0,i.jsx)(n.p,{children:"Extracts a property from one or more prop files."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"FILE"})}),(0,i.jsx)(n.td,{children:"Prop file(s) to search"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PROP"})}),(0,i.jsx)(n.td,{children:"Property to extract"})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Single file\r\nfile_getprop /system/build.prop "ro.build.display.id"\r\n\r\n# Multiple files\r\nfile_getprop /system/build.prop /vendor/build.prop /system_ext/build.prop "ro.build.display.id"\r\n\r\n# Store result\r\nmyid=$(file_getprop /system/build.prop "ro.build.display.id")\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"write_raw_image",children:"write_raw_image"}),"\n",(0,i.jsxs)(n.p,{children:["Installs ",(0,i.jsx)(n.code,{children:".img"})," or ",(0,i.jsx)(n.code,{children:".bin"})," files to partitions."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"FILE"})}),(0,i.jsx)(n.td,{children:"File to install"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PART"})}),(0,i.jsx)(n.td,{children:"Target partition"})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install\r\nwrite_raw_image /sdcard/boot.img $(find_block boot)\r\n\r\n# Extract it\r\nwrite_raw_image $(find_block boot) /sdcard/boot.img\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["It is recommended to use ",(0,i.jsx)(n.a,{href:"/DynamicInstaller_Doc/docs/install-actions/install-bins#update",children:(0,i.jsx)(n.code,{children:"update"})})," instead."]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"ifelse",children:"ifelse"}),"\n",(0,i.jsx)(n.p,{children:"Executes an action; if it fails, runs a second action."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"TEST"})}),(0,i.jsx)(n.td,{children:"Action to test"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ELSE"})}),(0,i.jsx)(n.td,{children:"Action to run if test fails"})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Using single quotes for quotes in actions\r\nifelse "is_mounted /system" \'ui_print "/system isn\u2019t mounted"\'\r\n\r\n# Preferred syntax\r\nis_mounted /system || ui_print "/system isn\u2019t mounted"\r\n\r\n# Multiple actions\r\nif is_mounted /system; then\r\n    ui_print "/system already mounted"\r\n    ui_print "Done"\r\nelse\r\n    ui_print "/system isn\u2019t mounted"\r\n    ui_print "ERROR"\r\nfi\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"greater_than_int",children:"greater_than_int"}),"\n",(0,i.jsx)(n.p,{children:"Checks if a number is greater than another (supports decimals)."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NUM1"})}),(0,i.jsx)(n.td,{children:"First number"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NUM2"})}),(0,i.jsx)(n.td,{children:"Second number"})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'if greater_than_int "2.2" "1.5"; then\r\n    ui_print "Is greater"\r\nelse\r\n    ui_print "Is less or equal"\r\nfi\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"less_than_int",children:"less_than_int"}),"\n",(0,i.jsx)(n.p,{children:"Checks if a number is less than another (supports decimals)."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NUM1"})}),(0,i.jsx)(n.td,{children:"First number"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NUM2"})}),(0,i.jsx)(n.td,{children:"Second number"})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'if less_than_int "1.5" "2"; then\r\n    ui_print "Is less"\r\nelse\r\n    ui_print "Is greater or equal"\r\nfi\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"concat",children:"concat"}),"\n",(0,i.jsx)(n.p,{children:"Concatenates multiple strings."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"STRING"})}),(0,i.jsx)(n.td,{children:"Strings to concatenate (multiple allowed)"})]})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'var="just test"\r\nresult=$(concat "h u h" "$var" "    a  ")\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"stdout",children:"stdout"}),"\n",(0,i.jsx)(n.p,{children:"Redirects all output (including errors) of an action to stdout."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ACTION"})}),(0,i.jsx)(n.td,{children:"Action to execute"})]})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Redirect stderr to stdout\r\nstdout echo2 uwu\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Does not guarantee screen output; use ",(0,i.jsx)(n.code,{children:"stdprint"})," for that."]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"stderr",children:"stderr"}),"\n",(0,i.jsx)(n.p,{children:"Redirects all output of an action to stderr."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ACTION"})}),(0,i.jsx)(n.td,{children:"Action to execute"})]})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Print as error\r\nstderr echo uwu\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"stdprint",children:"stdprint"}),"\n",(0,i.jsx)(n.p,{children:"Prints an action\u2019s stdout to the screen in recovery."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ACTION"})}),(0,i.jsx)(n.td,{children:"Action to execute"})]})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Print to screen\r\nstdprint echo uwu\r\n\r\n# Visualize process\r\nstdprint apktool --help\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"read_file",children:"read_file"}),"\n",(0,i.jsx)(n.p,{children:"Gets the contents of one or more files."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"FILE"})}),(0,i.jsx)(n.td,{children:"File(s) to read"})]})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'read_file "$TMP/file.txt"\r\n\r\n# Native alternative\r\ncat "$TMP/file.txt"\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"run_program",children:"run_program"}),"\n",(0,i.jsx)(n.p,{children:"Executes a file (sh or binary) with arguments, auto-setting execution permissions."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PROG"})}),(0,i.jsx)(n.td,{children:"Program to run"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ARG"})}),(0,i.jsx)(n.td,{children:"Arguments (multiple allowed)"})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'run_program "$TMP/busybox" --help\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"symlink",children:"symlink"}),"\n",(0,i.jsx)(n.p,{children:"Creates symbolic links from a file."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"FILE"})}),(0,i.jsx)(n.td,{children:"Source file"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"LINK"})}),(0,i.jsx)(n.td,{children:"Symlink(s) to create (multiple allowed)"})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Create symlinks to busybox\r\nsymlink "$TMP/busybox" "$TMP/chmod" "$TMP/sed" "$TMP/tar"\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"convert_edify",children:"convert_edify"}),"\n",(0,i.jsx)(n.p,{children:"Converts Edify scripts to Dynamic Installer format (experimental)."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"SRC"})}),(0,i.jsx)(n.td,{children:"Edify script path"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"DEST"})}),(0,i.jsx)(n.td,{children:"Output path (optional, overwrites SRC if omitted)"})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Convert with output\r\nconvert_edify "/sdcard/edify-script" "/sdcard/result"\r\n\r\n# Overwrite source\r\nconvert_edify "/sdcard/edify-script"\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"Manually review the result; not definitive."})})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>l});var s=r(6540);const i={},t=s.createContext(i);function d(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);