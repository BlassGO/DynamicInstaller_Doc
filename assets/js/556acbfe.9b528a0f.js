"use strict";(self.webpackChunkdynamic_installer_doc=self.webpackChunkdynamic_installer_doc||[]).push([[9518],{2580:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"general-actions/get-values","title":"\ud83d\udccf Get Values Tools","description":"Tools for retrieving various values.","source":"@site/docs/general-actions/get-values.mdx","sourceDirName":"general-actions","slug":"/general-actions/get-values","permalink":"/DynamicInstaller_Doc/docs/general-actions/get-values","draft":false,"unlisted":false,"editUrl":"https://github.com/BlassGO/DynamicInstaller_Doc/edit/main/docs/general-actions/get-values.mdx","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10,"id":"get-values","title":"\ud83d\udccf Get Values Tools","description":"Tools for retrieving various values."},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\uddb2\ufe0f User Selection Tools","permalink":"/DynamicInstaller_Doc/docs/general-actions/user-selection"},"next":{"title":"\ud83d\udd12 Set Permissions Tools","permalink":"/DynamicInstaller_Doc/docs/general-actions/permissions"}}');var s=n(4848),i=n(8453),l=n(6012);const o={sidebar_position:10,id:"get-values",title:"\ud83d\udccf Get Values Tools",description:"Tools for retrieving various values."},d="\ud83d\udccf Get Values Tools",a={},c=[{value:"import_config",id:"import_config",level:2},{value:"get_file_prop",id:"get_file_prop",level:2},{value:"map_file_props",id:"map_file_props",level:2},{value:"getdefault",id:"getdefault",level:2},{value:"get_array",id:"get_array",level:2},{value:"get_size_ext4",id:"get_size_ext4",level:2},{value:"fullpath",id:"fullpath",level:2}];function h(e){const r={admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"-get-values-tools",children:"\ud83d\udccf Get Values Tools"})}),"\n",(0,s.jsx)(r.p,{children:"Utilities for extracting information."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"import_config",children:"import_config"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["Supports: ",(0,s.jsx)(l.A,{type:"addon",children:"_addon"})," ",(0,s.jsx)(l.A,{type:"zip",children:"_zip"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Converts prop lines (a = b) from a file into variables ($a)."}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Argument"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsx)(r.tbody,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"FILE"})}),(0,s.jsx)(r.td,{children:"Prop file"})]})})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'# example.prop: name=Some name, current_version=v1.1.0, i_d_k=S o m e t h i n g\r\nimport_config "$TMP/example.prop"\r\nui_print "$name"          # Prints "Some name"\r\nui_print "$current_version"  # Prints "v1.1.0"\r\nui_print "$i_d_k"         # Prints "S o m e t h i n g"\n'})}),"\n",(0,s.jsx)(r.admonition,{type:"note",children:(0,s.jsx)(r.p,{children:"Props with special characters won\u2019t become variables."})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"get_file_prop",children:"get_file_prop"}),"\n",(0,s.jsx)(r.p,{children:"Extracts a property from one or more prop files."}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Argument"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"FILE"})}),(0,s.jsx)(r.td,{children:"Prop file(s)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PROP"})}),(0,s.jsx)(r.td,{children:"Property to extract"})]})]})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'get_file_prop /system/build.prop "ro.build.display.id"\r\n\r\n# Multiple files\r\nget_file_prop /system/build.prop /vendor/build.prop /system_ext/build.prop "ro.build.display.id"\r\n\r\n# Store result\r\nmyid=$(get_file_prop /system/build.prop "ro.build.display.id")\n'})}),"\n",(0,s.jsx)(r.admonition,{type:"note",children:(0,s.jsx)(r.p,{children:"The search will stop at the first match, always returning a single value."})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"map_file_props",children:"map_file_props"}),"\n",(0,s.jsx)(r.p,{children:"Maps multiple properties from one or more files into an array."}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Flag"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"-var (-v)"})}),(0,s.jsx)(r.td,{children:"Name of the array to store results."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"-files (-f)"})}),(0,s.jsx)(r.td,{children:"Files to search."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"-props (-p)"})}),(0,s.jsx)(r.td,{children:"Properties to find."})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Example"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'map_file_props -v my_array -f "/sdcard/file1.prop" "/sdcard/file2.prop" -p "ro.build.version" "ro.product.model"\r\n\r\nui_print "${my_array[0]}"  # ro.build.version value\r\nui_print "${my_array[1]}"  # ro.product.model value\r\n\n'})}),"\n",(0,s.jsx)(r.admonition,{type:"note",children:(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"The search will stop when at least one match for each property has been found. That is, only the value of the first match for each property is considered."}),"\n",(0,s.jsx)(r.li,{children:"An ordered array is always guaranteed, even if one of the properties was not found. Its corresponding space will be filled with an empty value."}),"\n"]})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"getdefault",children:"getdefault"}),"\n",(0,s.jsxs)(r.p,{children:["Extracts ",(0,s.jsx)(r.code,{children:"setdefault"})," values from a file (no multi-line support)."]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Argument"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"FILE"})}),(0,s.jsx)(r.td,{children:"File with setdefault lines"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"KEY"})}),(0,s.jsx)(r.td,{children:"Key to extract"})]})]})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'# something.txt: setdefault ole "a b c", setdefault okay "d e f", setdefault test "s o m e t h i n g"\r\ngetdefault "$TMP/something.txt" okay  # Returns "d e f"\r\ngetdefault "$TMP/something.txt" test  # Returns "s o m e t h i n g"\r\n\r\n# Store result\r\nmy_var=$(getdefault "$TMP/something.txt" okay)\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"get_array",children:"get_array"}),"\n",(0,s.jsx)(r.p,{children:"Gets a full value from an array matching a pattern."}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Argument"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PATTERN"})}),(0,s.jsx)(r.td,{children:"Pattern to match"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"ARRAY"})}),(0,s.jsx)(r.td,{children:"Array to search"})]})]})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'test=("First array" "Other array" "A B")\r\nget_array "Other" "${test[@]}"  # Returns "Other array"\r\n\r\n# Store result\r\ncontent=$(get_array "Other" "${test[@]}")\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"get_size_ext4",children:"get_size_ext4"}),"\n",(0,s.jsx)(r.p,{children:"Gets the size in bytes of an ext4 partition or RAW .img."}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Argument"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsx)(r.tbody,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PATH"})}),(0,s.jsx)(r.td,{children:"Partition or .img file"})]})})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'get_size_ext4 "$(find_block system)"\r\n\r\n# From file\r\nget_size_ext4 "/sdcard/vendor.img"\r\n\r\n# Store result\r\nsize=$(get_size_ext4 "$(find_block system)")\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"fullpath",children:"fullpath"}),"\n",(0,s.jsx)(r.p,{children:"Gets the full path of a file, folder, or symlink (returns literal symlink paths)."}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Argument"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsx)(r.tbody,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PATH"})}),(0,s.jsx)(r.td,{children:"File, folder, or symlink"})]})})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'fullpath "folder/file"\r\n\r\n# Store result\r\ncomplete_path=$(fullpath "folder/file")\n'})})]})}function p(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},6012:(e,r,n)=>{n.d(r,{A:()=>l});n(6540);var t=n(5293),s=n(8774),i=n(4848);const l=function({type:e,children:r,title:n}){const{isDarkTheme:l}=(0,t.G)(),o={default:{backgroundColor:"#f0f0f0",color:"#333"},addon:{backgroundColor:"#e1f5fe",color:"#0277bd"},zip:{backgroundColor:"#fce4ec",color:"#ad1457"}},d={default:{backgroundColor:"#424242",color:"#e0e0e0"},addon:{backgroundColor:"#4a6572",color:"#e0f7fa"},zip:{backgroundColor:"#6a1b9a",color:"#fce4ec"}},a=l?d[e]||d.default:o[e]||o.default,c=n||`This action supports the ${r} extension`;return"addon"===e||"zip"===e?(0,i.jsx)(s.A,{to:"/docs/environment/extensions-logic",children:(0,i.jsx)("span",{style:{...a,padding:"2px 6px",borderRadius:"4px",fontSize:"0.8em",margin:"0 4px",cursor:"pointer"},title:c,children:r})}):(0,i.jsx)("span",{style:{...a,padding:"2px 6px",borderRadius:"4px",fontSize:"0.8em",margin:"0 4px",cursor:"help"},title:c,children:r})}},8453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>o});var t=n(6540);const s={},i=t.createContext(s);function l(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);